<form [formGroup]="passwordResetForm" (ngSubmit)="onSubmit()">
  <div class="row">
    <div class="col s12">
      <h1 *ngIf="IsRequestingRecovery">Recuperar senha</h1>
      <h1 *ngIf="!IsRequestingRecovery;">Atualizar senha</h1>
    </div>
  </div>
  <div class="row" *ngIf="!IsRequestingRecovery;">
    <div class="col s12">
      <mat-form-field hintLabel="Entre 6 e 14 caracteres" appearance="fill">
        <mat-label>Senha antiga</mat-label>
        <input matInput #oldpassword minlength="6" maxlength="14" placeholder="antiga senha"
                formControlName="oldPassword" [type]="hideOldPassword ? 'password' : 'text'">
        <mat-error *ngIf="oldPasswordForm.errors?.['requiredif']">A senha é obrigatória</mat-error>
        <mat-error *ngIf="oldPasswordForm.errors?.['pattern']">A senha deve ter pelo menos um caractere especial, uma letra em maiusculo,
           uma letra em minusculo</mat-error>
        <button type="button" mat-icon-button matSuffix (click)="hideOldPassword = !hideOldPassword"
                [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hideOldPassword">
          <mat-icon>{{hideOldPassword ? 'visibility_off' : 'visibility'}}</mat-icon>
        </button>
        <mat-hint align="end">{{oldpassword.value.length}}/14</mat-hint>
      </mat-form-field>
    </div>
  </div>

  <div class="row">
    <div class="col s12">
      <mat-form-field hintLabel="Entre 6 e 14 caracteres" appearance="fill">
        <mat-label>Nova senha</mat-label>
        <input matInput #password minlength="6" maxlength="14" placeholder="nova senha"
                formControlName="password" [type]="hidePassword ? 'password' : 'text'">
        <mat-error *ngIf="passwordForm.errors?.['required']">A senha é obrigatória obrigatória</mat-error>
        <mat-error *ngIf="passwordForm.errors?.['pattern']">A senha deve ter pelo menos um caractere especial, uma letra em maiusculo,
           uma letra em minusculo</mat-error>
        <button type="button" mat-icon-button matSuffix (click)="hidePassword = !hidePassword"
                [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hidePassword">
          <mat-icon>{{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
        </button>
        <mat-hint align="end">{{password.value.length}}/14</mat-hint>
      </mat-form-field>
    </div>
    <div class="col s12">
      <mat-form-field hintLabel="Entre 6 e 14 caracteres" appearance="fill">
        <mat-label>Confirmação da senha</mat-label>
        <input matInput #passwordConfirm minlength="6" maxlength="14" placeholder="senha segura"
              formControlName="passwordConfirm" [type]="hidePasswordConfirm ? 'password' : 'text'">
              <mat-error *ngIf="passwordConfirmForm.errors?.['required']">A confirmação da senha é obrigatória obrigatória</mat-error>
              <mat-error *ngIf="passwordConfirmForm.errors?.['pattern']">A confirmação da senha deve ter pelo menos um caractere especial, uma letra em maiusculo,
                 uma letra em minusculo</mat-error>
              <mat-error *ngIf="passwordConfirmForm.errors?.['same']">A confirmação da senha deve ser igual à senha</mat-error>
              <button type="button" mat-icon-button matSuffix (click)="hidePasswordConfirm = !hidePasswordConfirm"
                      [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hidePasswordConfirm">
                <mat-icon>{{hidePasswordConfirm ? 'visibility_off' : 'visibility'}}</mat-icon>
              </button>
        <mat-hint align="end">{{passwordConfirm.value.length}}/14</mat-hint>
      </mat-form-field>
    </div>
  </div>
  <div class="row">
    <div class="col s12">
      <button type="submit" mat-flat-button color="primary" class="right" [disabled]="passwordResetForm.invalid">
        <mat-icon>password</mat-icon>
        Atualizar
      </button>
    </div>
  </div>
</form>

